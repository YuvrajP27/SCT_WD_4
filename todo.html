<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project WebApp</title>
    <link rel="stylesheet" href="todo.css"/>
</head>
<body>
    <aside id="sidebar">
            <div class="sidebar-header">
                <div class="brand">
                    <!-- SVG Check Icon -->
                    <svg class="icon-lg" viewBox="0 0 24 24">
                        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                    </svg>
                    TaskMaster
                </div>
                <button id="closeSidebarBtn" class="menu-btn" style="display: none;">
                    <svg class="icon-lg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
                </button>
            </div>

            <div class="lists-nav">
                <div class="list-section-title">My Lists</div>
                <div id="listsContainer">
                    <!-- List items injected by JS -->
                </div>
                
                <button onclick="openAddListModal()" class="add-list-btn">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                    Create New List
                </button>
            </div>

            <div class="sidebar-footer">
                <div class="stats-card">
                    <div class="stats-label">Pending Tasks</div>
                    <div class="stats-value" id="totalPendingCount">0</div>
                </div>
            </div>
        </aside>

        <!-- 
        =======================================================================
        3. HTML PORTION (Main)
        ======================================================================= 
        -->
        <main>
            <header>
                <div class="header-left">
                    <button id="mobileMenuBtn" class="menu-btn">
                        <svg class="icon-lg" viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
                    </button>
                    <div class="list-info">
                        <h2 id="currentListName">My Tasks</h2>
                        <p id="currentListDate">Date</p>
                    </div>
                </div>
                
                <div class="header-actions">
                    <button onclick="deleteCurrentList()" id="deleteListBtn" class="btn-icon delete" title="Delete List">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>
                    </button>
                    <div class="filter-group">
                        <button onclick="setFilter('all')" class="filter-btn active" data-filter="all">All</button>
                        <button onclick="setFilter('active')" class="filter-btn" data-filter="active">Active</button>
                        <button onclick="setFilter('completed')" class="filter-btn" data-filter="completed">Done</button>
                    </div>
                </div>
            </header>

            <div class="input-container">
                <div class="input-wrapper">
                    <svg class="icon" viewBox="0 0 24 24" style="color: var(--text-secondary); margin-right: 8px;">
                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                    </svg>
                    <input type="text" id="newTaskInput" placeholder="Add a new task..." class="task-input" onkeypress="handleEnter(event)">
                    <input type="datetime-local" id="newTaskDate" class="date-input">
                    <button onclick="addTask()" class="btn-primary">Add</button>
                </div>
            </div>

            <div class="tasks-scroll-area">
                <div id="tasksContainer" class="task-list">
                    <!-- Tasks injected by JS -->
                </div>

                <div id="emptyState" class="empty-state" style="display: none;">
                    <div class="empty-icon">
                        <svg class="icon-lg" viewBox="0 0 24 24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>
                    </div>
                    <h3>No tasks found</h3>
                    <p>Add a task above to get started</p>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <!-- Add List Modal -->
    <div id="addListModal" class="modal-overlay">
        <div class="modal-card">
            <div class="modal-header">
                <div class="modal-title">Create New List</div>
                <button onclick="closeModal('addListModal')" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">List Name</label>
                    <input type="text" id="newListName" class="form-input" placeholder="e.g., Grocery, Work">
                </div>
            </div>
            <div class="modal-footer">
                <button onclick="closeModal('addListModal')" class="btn-secondary">Cancel</button>
                <button onclick="createNewList()" class="btn-primary">Create List</button>
            </div>
        </div>
    </div>

    <!-- Edit Task Modal -->
    <div id="editTaskModal" class="modal-overlay">
        <div class="modal-card">
            <div class="modal-header">
                <div class="modal-title">Edit Task</div>
                <button onclick="closeModal('editTaskModal')" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="editTaskId">
                <div class="form-group">
                    <label class="form-label">Task Description</label>
                    <input type="text" id="editTaskText" class="form-input">
                </div>
                <div class="form-group">
                    <label class="form-label">Due Date</label>
                    <input type="datetime-local" id="editTaskDate" class="form-input">
                </div>
            </div>
            <div class="modal-footer">
                <button onclick="closeModal('editTaskModal')" class="btn-secondary">Cancel</button>
                <button onclick="saveTaskEdit()" class="btn-primary">Save Changes</button>
            </div>
        </div>
    </div>
<script src="todo.js"></script>
</body>
</html>